define(["esri/WebMap","esri/views/MapView","esri/widgets/LayerList","esri/widgets/Legend","esri/core/accessorSupport/decorators","esri/widgets/Widget","esri/layers/FeatureLayer","esri/core/promiseUtils","esri/geometry/geometryEngine","esri/widgets/support/widget","esri/widgets/BasemapToggle","esri/widgets/Search","esri/widgets/Search/LayerSearchSource"],(function(e,t,n,r,i,o,s,a,c,l,u,d,h){"use strict";var p,f,v;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h;var y=new e({portalItem:{id:"d21a59d333ec435095df686c716f82d5"}});function w(){console.log(p.type)}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */y.when((function(){y.layers.forEach((function(e){switch(e.title){case"Owners":p=e,e.outFields=["*"],e.visible=!0,e.when(w);break;case"Owner Clusters":f=e,e.visible=!1;break;case"Parcels":v=e}}))}));var g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function b(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function _(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function O(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var x,E,L,P=function(e){Object.assign(this,e)},A=function(e){Object.assign(this,e)},T="esri-hello-world",k="float-right",F=function(e){function t(t){var n=e.call(this)||this;return n.firstName="John",n.lastName="Smith",n.graphics=[],Object.assign(n,t),n.ownerRelateLayer=new s({portalItem:{id:"81dae3ea2cdb4dc68150ac14039ece01"}}),n}return function(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.postInitialize=function(){this._addClickHandler()},t.prototype.processClusterGraphic=function(e){},t.prototype.ownerSearchComplete=function(e){this._processOwnerGraphics([e]),this._zoomToOwner(e.geometry),this._highlightOwner({active:!0},e.geometry)},t.prototype.clear=function(){this.owners=[],this.loading=!1},t.prototype.render=function(){var e,t=this;if(this.loading)return l.tsx("div",null,l.tsx("calcite-loader",{text:"Fetching data...",active:!0}));if(null===(e=this.owners)||void 0===e?void 0:e.length){var n=this.owners.map((function(e,n){var r,i,o=null===(i=null==e?void 0:e.parcels)||void 0===i?void 0:i.map((function(e,n){var r,i,o,s;return l.tsx("calcite-card",{loading:!1,selectable:!1,key:n},l.tsx("h3",{slot:"title"},e.legalDescription),l.tsx("table",{slot:"subtitle"},l.tsx("tr",null,l.tsx("td",null,"Prop. Address"),l.tsx("td",null,e.address?e.address:"None")),l.tsx("tr",null,l.tsx("td",null,"Geocode"),l.tsx("td",null,e.geocode)),l.tsx("tr",null,l.tsx("td",null,"Taxcode"),l.tsx("td",null,e.taxcode)),l.tsx("tr",null,l.tsx("td",null,"Acres"),l.tsx("td",null,null===(r=e.acreage)||void 0===r?void 0:r.toLocaleString(void 0,{minimumFractionDigits:2}))),l.tsx("tr",null,l.tsx("td",null,"Total Value"),l.tsx("td",null,"$"+(null===(i=e.totalValue)||void 0===i?void 0:i.toLocaleString(void 0,{minimumFractionDigits:0})))),l.tsx("tr",null,l.tsx("td",null,"Building Value"),l.tsx("td",null,"$"+(null===(o=e.buildingValue)||void 0===o?void 0:o.toLocaleString(void 0,{minimumFractionDigits:0})))),l.tsx("tr",null,l.tsx("td",null,"Land Value"),l.tsx("td",null,"$"+(null===(s=e.landValue)||void 0===s?void 0:s.toLocaleString(void 0,{minimumFractionDigits:0})))),l.tsx("tr",null,l.tsx("td",null,"Prop. Type"),l.tsx("td",null,e.type))),l.tsx("calcite-link",{onclick:function(n){n.stopPropagation(),t._zoomToParcel(e),t._highlightParcels([e])}},"zoom to parcel"))})),s=((r={})[k]=!0,r);return l.tsx("calcite-accordion-item",{bind:t,key:n,active:!1,"item-title":e.name,"item-subtitle":e.address,onclick:function(n){t._highlightOwner(n.target,e.geometry)}},l.tsx("div",null,l.tsx("calcite-link",{onclick:function(n){n.stopPropagation(),t._zoomToOwner(e.geometry)}},"zoom to owner"),l.tsx("calcite-link",{class:t.classes(T,s),onclick:function(n){n.stopPropagation(),t._zoomToAllParcels(e.parcels),t._highlightParcels(e.parcels)}},"zoom to all parcels"),o))}));return l.tsx("div",null,l.tsx("calcite-accordion",{"selection-mode":"single",on:!0},n))}return l.tsx("div",null,l.tsx("span",null,"Click on an owner point"))},t.prototype._zoomToOwner=function(e){this.view.goTo({target:e,scale:1e3},{animate:!0,duration:2e3,easing:"ease-in-out"})},t.prototype._highlightOwner=function(e,t){this.view.graphics=this.view.graphics.filter((function(e){return"owner"!==e.id})),e.active?this.view.graphics.push({geometry:t,symbol:{type:"simple-marker",outline:{width:2,color:[151,0,227,1]},color:[207,0,181,.61]},id:"owner"}):this.view.graphics.removeAll()},t.prototype._zoomToParcel=function(e){var t=e.geometry.extent;this.view.goTo({target:c.buffer(e.geometry,Math.min(t.xmax-t.xmin,t.ymax-t.ymin)/2,"meters")},{animate:!0,duration:2e3,easing:"ease-in-out"})},t.prototype._zoomToAllParcels=function(e){this.view.goTo(e.map((function(e){return e.geometry})),{animate:!0,duration:2e3,easing:"ease-in-out"})},t.prototype._highlightParcels=function(e){this.view.graphics=this.view.graphics.filter((function(e){return"parcel"!==e.id})),this.view.graphics.addMany(e.map((function(e){return{geometry:e.geometry,symbol:{type:"simple-fill",outline:{width:2,color:[151,0,227,1]},color:[0,0,0,0]},id:"parcel"}})))},t.prototype._processOwnerGraphics=function(e){var t,n;return _(this,void 0,void 0,(function(){var r,i=this;return O(this,(function(o){switch(o.label){case 0:return r=this,[4,a.eachAlways(e.map((function(e){return _(i,void 0,void 0,(function(){return O(this,(function(t){switch(t.label){case 0:return[4,this._makeOwner(e)];case 1:return[2,t.sent()]}}))}))}))).then((function(e){return e.map((function(e){return e.value}))})).then((function(e){return e.sort((function(e,t){return e.name<t.name?-1:1}))}))];case 1:return r.owners=o.sent(),(null===(t=document.getElementById("widget-owners"))||void 0===t?void 0:t.classList.contains("hidden"))&&(null===(n=document.getElementById("owner-action"))||void 0===n||n.click()),this.loading=!1,[2]}}))}))},t.prototype._processParcelGraphic=function(e){var t,n;return _(this,void 0,void 0,(function(){var r,i,o=this;return O(this,(function(s){switch(s.label){case 0:return i=this._makeOwner,[4,this.ownerRelateLayer.queryFeatures({where:"recId="+e.attributes.ID,returnGeometry:!1,outFields:["OwnerID"]}).then((function(e){return o.ownerLayer.queryFeatures({where:"OwnerID="+e.features[0].attributes.OwnerID,returnGeometry:!0,outFields:["*"]})})).then((function(e){return e.features[0]}))];case 1:return[4,i.apply(this,[s.sent()])];case 2:return r=s.sent(),this.owners=[r],(null===(t=document.getElementById("widget-owners"))||void 0===t?void 0:t.classList.contains("hidden"))&&(null===(n=document.getElementById("owner-action"))||void 0===n||n.click()),this.loading=!1,[2]}}))}))},t.prototype._getOwnerParcelsFromID=function(e){return _(this,void 0,Promise,(function(){var t=this;return O(this,(function(n){return[2,this.ownerRelateLayer.queryFeatures({where:"OwnerID="+e,returnGeometry:!1,outFields:["recId"]}).then((function(e){var n=e.features.map((function(e){return e.attributes.recId}));return t.parcelLayer.queryFeatures({where:"ID IN ("+n.toString()+")",returnGeometry:!0,outFields:["*"]})})).then((function(e){return e.features.map((function(e){var t=e.attributes,n=[t.AddressLine1,t.AddressLine2,t.CityStateZip].filter((function(e){return null!==e&&""!==e})).join("\n");return new P({address:n,acreage:t.TotalAcres,geocode:t.PARCELID,taxcode:t.AssessmentCode,legalDescription:t.LegalDescriptionShort,buildingValue:t.TotalBuildingValue,landValue:t.TotalLandValue,totalValue:t.TotalValue,type:t.PropType,geometry:e.geometry})}))}))]}))}))},t.prototype._makeOwner=function(e){return _(this,void 0,void 0,(function(){var t,n;return O(this,(function(r){switch(r.label){case 0:return t=new A({name:e.attributes.OwnerName,address:e.attributes.OwnerInfo.slice(e.attributes.OwnerName.length+1),id:e.attributes.OwnerID,geometry:e.geometry}),n=t,[4,this._getOwnerParcelsFromID(t.id)];case 1:return n.parcels=r.sent(),[2,t]}}))}))},t.prototype._updateOwners=function(){console.log(this.owners)},t.prototype._addClickHandler=function(){var e=this;this.view.on("click",(function(t){return _(e,void 0,void 0,(function(){var e,n,r,i,o;return O(this,(function(s){switch(s.label){case 0:return this.loading=!0,e=c.geodesicBuffer(t.mapPoint,5*this.view.resolution,"meters"),[4,a.eachAlways([this.ownerLayer.visible?this.ownerLayer.queryFeatures({geometry:e,outFields:["*"],returnGeometry:!0}):a.create((function(e){e({features:[]})})),this.parcelLayer.visible?this.parcelLayer.queryFeatures({geometry:t.mapPoint,outFields:["*"]}):a.create((function(e){e({features:[]})})),this.ownerClusterLayer.visible?this.ownerClusterLayer.queryFeatures({geometry:e,outFields:["*"]}):a.create((function(e){e({features:[]})}))])];case 1:return n=s.sent(),r=n[0].value.features,i=n[1].value.features,o=n[2].value.features,r.length?this._processOwnerGraphics(r):i.length?this._processParcelGraphic(i[0]):o.length?this.processClusterGraphic(o[0]):this.clear(),[2]}}))}))}))},b([i.property(),l.renderable()],t.prototype,"owners",void 0),b([i.property(),l.renderable()],t.prototype,"loading",void 0),b([i.property()],t.prototype,"view",void 0),b([i.property()],t.prototype,"ownerLayer",void 0),b([i.property()],t.prototype,"parcelLayer",void 0),b([i.property()],t.prototype,"ownerClusterLayer",void 0),b([i.property()],t.prototype,"ownerRelateLayer",void 0),b([i.property(),l.renderable()],t.prototype,"firstName",void 0),b([i.property(),l.renderable()],t.prototype,"lastName",void 0),b([i.property(),l.renderable()],t.prototype,"graphics",void 0),t=b([i.subclass("esri.widgets.OwnerWidget")],t)}(o);function S(e){console.log(e.results),x.ownerSearchComplete(e.results[0].results[0].feature)}function j(){}var D=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),I="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,M="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),C="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(M):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var G=["top","right","bottom","left","width","height","size","weight"],z="undefined"!=typeof MutationObserver,R=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&a()}function s(){C(o)}function a(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return a}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){I&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),z?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){I&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;G.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),B=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},V=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||M},q=U(0,0,0,0);function N(e){return parseFloat(e)||0}function W(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+N(e["border-"+n+"-width"])}),0)}function H(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return q;var r=V(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=N(o)}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=N(r.width),c=N(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=W(r,"left","right")+o),Math.round(c+s)!==n&&(c-=W(r,"top","bottom")+s)),!function(e){return e===V(e).document.documentElement}(e)){var l=Math.round(a+o)-t,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return U(i.left,i.top,a,c)}var $="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof V(e).SVGGraphicsElement}:function(e){return e instanceof V(e).SVGElement&&"function"==typeof e.getBBox};function J(e){return I?$(e)?function(e){var t=e.getBBox();return U(0,0,t.width,t.height)}(e):H(e):q}function U(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Z=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=U(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=J(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),K=function(e,t){var n,r,i,o,s,a,c,l=(r=(n=t).x,i=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),B(c,{x:r,y:i,width:o,height:s,top:i,right:r+o,bottom:s+i,left:r}),c);B(this,{target:e,contentRect:l})},Q=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new D,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof V(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Z(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof V(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new K(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),X="undefined"!=typeof WeakMap?new WeakMap:new D,Y=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=R.getInstance(),r=new Q(t,n,this);X.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Y.prototype[e]=function(){var t;return(t=X.get(this))[e].apply(t,arguments)}}));var ee=void 0!==M.ResizeObserver?M.ResizeObserver:Y;var te=new t({container:"viewDiv",map:y,constraints:{rotationEnabled:!1},popup:{autoOpenEnabled:!1}});y.when((function(){console.log("map loaded")})),te.when((function(e){var t=new u({view:E=e,nextBasemap:"satellite"});E.ui.add(t,"top-left");var i=new r({view:E}),o=new n({view:E});L=new F({view:E,ownerLayer:p,parcelLayer:v,ownerClusterLayer:f});var s=document.getElementById("widget-search"),a=function(e,t,n){var r={type:"simple-marker",outline:{miterLimit:8,width:0,color:[0,0,0,0]},size:0,color:[255,255,255,0]};x=n;var i=new h({layer:p,placeholder:"owner name",searchFields:["OwnerName"],name:"Owner Name",outFields:["*"],maxSuggestions:50,resultSymbol:r,resultGraphicEnabled:!1}),o=new h({layer:p,placeholder:"owner address",searchFields:["OwnerAddress"],name:"Owner Address",outFields:["*"],suggestionTemplate:"{OwnerName}\n{OwnerAddress}",resultSymbol:r,resultGraphicEnabled:!1}),s=new d({view:void 0,container:t,allPlaceholder:"Owner or Address",sources:[i,o],includeDefaultSources:!1,popupEnabled:!1,goToOverride:j,resultGraphicEnabled:!1});return s.on("search-complete",S),s}(0,s,L),c=document.getElementById("widget-legend"),l=document.getElementById("widget-layerlist"),y=document.getElementById("widget-owners"),w=document.getElementById("widget-panel");return w&&(E.padding=m(m({},E.padding),{left:w.offsetWidth})),c&&(i.container=c),l&&(o.container=l),y&&(L.container=y),s&&(a.container=s),{layerListContainer:l,legendContainer:c,ownerContainer:y,searchContainer:s,widgetPanel:w,view:E}})).then((function(e){for(var t=e.layerListContainer,n=e.legendContainer,r=e.ownerContainer,i=e.searchContainer,o=e.widgetPanel,s=e.view,a=Array.from(document.querySelectorAll("calcite-action")),c=[t,n,r,i],l=function(e){e.addEventListener("click",(function(){"Layers"===e.text?(t.classList.toggle("hidden"),c.filter((function(e){return e!==t})).forEach((function(e){e.classList.add("hidden")}))):"Legend"===e.text?(n.classList.toggle("hidden"),c.filter((function(e){return e!==n})).forEach((function(e){e.classList.add("hidden")}))):"Owners"===e.text?(r.classList.toggle("hidden"),c.filter((function(e){return e!==r})).forEach((function(e){e.classList.add("hidden")}))):"Search"===e.text&&(i.classList.toggle("hidden"),c.filter((function(e){return e!==i})).forEach((function(e){e.classList.add("hidden")}))),o.collapsed=c.every((function(e){return e.classList.contains("hidden")}))}))},u=0,d=a;u<d.length;u++){l(d[u])}var h=new ee((function(){s.padding=m(m({},s.padding),{left:o.offsetWidth})}));return h.observe(o),h}))}));
