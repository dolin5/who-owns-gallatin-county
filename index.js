define(["esri/WebMap","esri/views/MapView","esri/widgets/LayerList","esri/widgets/Legend","esri/core/accessorSupport/decorators","esri/widgets/Widget","esri/layers/FeatureLayer","esri/core/promiseUtils","esri/geometry/geometryEngine","esri/widgets/support/widget","esri/widgets/BasemapToggle","esri/widgets/Search","esri/widgets/Search/LayerSearchSource","esri/widgets/Search/LocatorSearchSource","esri/tasks/Locator"],(function(e,t,n,r,o,i,s,a,c,l,u,d,h,p,f){"use strict";var y,v,w;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,f=f&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f;var g=new e({portalItem:{id:"d21a59d333ec435095df686c716f82d5"}});function m(){console.log(y.type)}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */g.when((function(){g.layers.forEach((function(e){switch(e.title){case"Owners":y=e,e.outFields=["*"],e.visible=!0,e.when(m);break;case"Owner Clusters":v=e,e.visible=!1;break;case"Parcels":w=e}}))}));var b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var _=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function O(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function x(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function E(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var L,P,A,T,k=function(e){Object.assign(this,e)},S=function(e){Object.assign(this,e)},j="esri-hello-world",F="float-right",D=function(e){function t(t){var n=e.call(this)||this;return n.firstName="John",n.lastName="Smith",n.graphics=[],Object.assign(n,t),n.ownerRelateLayer=new s({portalItem:{id:"81dae3ea2cdb4dc68150ac14039ece01"}}),n}return function(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.postInitialize=function(){this._addClickHandler()},t.prototype.processClusterGraphic=function(e){},t.prototype.ownerSearchComplete=function(e){this._zoomToOwner(e.geometry),this._processOwnerGraphics([e]),this._highlightOwner({active:!0},e.geometry)},t.prototype.clear=function(){this.owners=[],this.loading=!1},t.prototype.render=function(){var e,t=this;if(this.loading)return l.tsx("div",null,l.tsx("calcite-loader",{text:"Fetching data...",active:!0}));if(null===(e=this.owners)||void 0===e?void 0:e.length){var n=this.owners.map((function(e,n){var r,o,i=null===(o=null==e?void 0:e.parcels)||void 0===o?void 0:o.map((function(e,n){var r,o,i,s;return l.tsx("calcite-card",{loading:!1,selectable:!1,key:n},l.tsx("h3",{slot:"title"},e.legalDescription),l.tsx("table",{slot:"subtitle"},l.tsx("tr",null,l.tsx("td",null,"Prop. Address"),l.tsx("td",null,e.address?e.address:"None")),l.tsx("tr",null,l.tsx("td",null,"Geocode"),l.tsx("td",null,e.geocode)),l.tsx("tr",null,l.tsx("td",null,"Taxcode"),l.tsx("td",null,e.taxcode)),l.tsx("tr",null,l.tsx("td",null,"Acres"),l.tsx("td",null,null===(r=e.acreage)||void 0===r?void 0:r.toLocaleString(void 0,{minimumFractionDigits:2}))),l.tsx("tr",null,l.tsx("td",null,"Total Value"),l.tsx("td",null,"$"+(null===(o=e.totalValue)||void 0===o?void 0:o.toLocaleString(void 0,{minimumFractionDigits:0})))),l.tsx("tr",null,l.tsx("td",null,"Building Value"),l.tsx("td",null,"$"+(null===(i=e.buildingValue)||void 0===i?void 0:i.toLocaleString(void 0,{minimumFractionDigits:0})))),l.tsx("tr",null,l.tsx("td",null,"Land Value"),l.tsx("td",null,"$"+(null===(s=e.landValue)||void 0===s?void 0:s.toLocaleString(void 0,{minimumFractionDigits:0})))),l.tsx("tr",null,l.tsx("td",null,"Prop. Type"),l.tsx("td",null,e.type))),l.tsx("calcite-link",{onclick:function(n){n.stopPropagation(),t._zoomToParcel(e),t._highlightParcels([e])}},"zoom to parcel"))})),s=((r={})[F]=!0,r);return l.tsx("calcite-accordion-item",{bind:t,key:n,active:!1,"item-title":e.name,"item-subtitle":e.address,onclick:function(n){t._highlightOwner(n.target,e.geometry)}},l.tsx("div",null,l.tsx("calcite-link",{onclick:function(n){n.stopPropagation(),t._zoomToOwner(e.geometry)}},"zoom to owner"),l.tsx("calcite-link",{class:t.classes(j,s),onclick:function(n){n.stopPropagation(),t._zoomToAllParcels(e.parcels),t._highlightParcels(e.parcels)}},"zoom to all parcels"),i))}));return l.tsx("div",null,l.tsx("calcite-accordion",{"selection-mode":"single",on:!0},n))}return l.tsx("div",null,l.tsx("span",null,"Click on an owner point"))},t.prototype._zoomToOwner=function(e){this.view.goTo({target:e,scale:1e3},{animate:!0,duration:2e3,easing:"ease-in-out"})},t.prototype._highlightOwner=function(e,t){this.view.graphics=this.view.graphics.filter((function(e){return"owner"!==e.id})),e.active?this.view.graphics.push({geometry:t,symbol:{type:"simple-marker",outline:{width:2,color:[151,0,227,1]},color:[207,0,181,.61]},id:"owner"}):this.view.graphics.removeAll()},t.prototype._zoomToParcel=function(e){var t=e.geometry.extent;this.view.goTo({target:c.buffer(e.geometry,Math.min(t.xmax-t.xmin,t.ymax-t.ymin)/2,"meters")},{animate:!0,duration:2e3,easing:"ease-in-out"})},t.prototype._zoomToAllParcels=function(e){this.view.goTo(e.map((function(e){return e.geometry})),{animate:!0,duration:2e3,easing:"ease-in-out"})},t.prototype._highlightParcels=function(e){this.view.graphics=this.view.graphics.filter((function(e){return"parcel"!==e.id})),this.view.graphics.addMany(e.map((function(e){return{geometry:e.geometry,symbol:{type:"simple-fill",outline:{width:2,color:[151,0,227,1]},color:[0,0,0,0]},id:"parcel"}})))},t.prototype._processOwnerGraphics=function(e){var t,n;return x(this,void 0,void 0,(function(){var r,o=this;return E(this,(function(i){switch(i.label){case 0:return r=this,[4,a.eachAlways(e.map((function(e){return x(o,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,this._makeOwner(e)];case 1:return[2,t.sent()]}}))}))}))).then((function(e){return e.map((function(e){return e.value}))})).then((function(e){return e.sort((function(e,t){return e.name<t.name?-1:1}))}))];case 1:return r.owners=i.sent(),(null===(t=document.getElementById("widget-owners"))||void 0===t?void 0:t.classList.contains("hidden"))&&(null===(n=document.getElementById("owner-action"))||void 0===n||n.click()),this.loading=!1,[2]}}))}))},t.prototype._processParcelGraphic=function(e){var t,n;return x(this,void 0,void 0,(function(){var r,o,i=this;return E(this,(function(s){switch(s.label){case 0:return o=this._makeOwner,[4,this.ownerRelateLayer.queryFeatures({where:"recId="+e.attributes.ID,returnGeometry:!1,outFields:["OwnerID"]}).then((function(e){return i.ownerLayer.queryFeatures({where:"OwnerID="+e.features[0].attributes.OwnerID,returnGeometry:!0,outFields:["*"]})})).then((function(e){return e.features[0]}))];case 1:return[4,o.apply(this,[s.sent()])];case 2:return r=s.sent(),this.owners=[r],(null===(t=document.getElementById("widget-owners"))||void 0===t?void 0:t.classList.contains("hidden"))&&(null===(n=document.getElementById("owner-action"))||void 0===n||n.click()),this.loading=!1,[2]}}))}))},t.prototype._getOwnerParcelsFromID=function(e){return x(this,void 0,Promise,(function(){var t=this;return E(this,(function(n){return[2,this.ownerRelateLayer.queryFeatures({where:"OwnerID="+e,returnGeometry:!1,outFields:["recId"]}).then((function(e){var n=e.features.map((function(e){return e.attributes.recId}));return t.parcelLayer.queryFeatures({where:"ID IN ("+n.toString()+")",returnGeometry:!0,outFields:["*"]})})).then((function(e){return e.features.map((function(e){var t=e.attributes,n=[t.AddressLine1,t.AddressLine2,t.CityStateZip].filter((function(e){return null!==e&&""!==e})).join("\n");return new k({address:n,acreage:t.TotalAcres,geocode:t.PARCELID,taxcode:t.AssessmentCode,legalDescription:t.LegalDescriptionShort,buildingValue:t.TotalBuildingValue,landValue:t.TotalLandValue,totalValue:t.TotalValue,type:t.PropType,geometry:e.geometry})}))}))]}))}))},t.prototype._makeOwner=function(e){return x(this,void 0,void 0,(function(){var t,n;return E(this,(function(r){switch(r.label){case 0:return t=new S({name:e.attributes.OwnerName,address:e.attributes.OwnerInfo.slice(e.attributes.OwnerName.length+1),id:e.attributes.OwnerID,geometry:e.geometry}),n=t,[4,this._getOwnerParcelsFromID(t.id)];case 1:return n.parcels=r.sent(),[2,t]}}))}))},t.prototype._updateOwners=function(){console.log(this.owners)},t.prototype._addClickHandler=function(){var e=this;this.view.on("click",(function(t){return x(e,void 0,void 0,(function(){var e,n,r,o,i;return E(this,(function(s){switch(s.label){case 0:return this.loading=!0,e=c.geodesicBuffer(t.mapPoint,5*this.view.resolution,"meters"),[4,a.eachAlways([this.ownerLayer.visible?this.ownerLayer.queryFeatures({geometry:e,outFields:["*"],returnGeometry:!0}):a.create((function(e){e({features:[]})})),this.parcelLayer.visible?this.parcelLayer.queryFeatures({geometry:t.mapPoint,outFields:["*"]}):a.create((function(e){e({features:[]})})),this.ownerClusterLayer.visible?this.ownerClusterLayer.queryFeatures({geometry:e,outFields:["*"]}):a.create((function(e){e({features:[]})}))])];case 1:return n=s.sent(),r=n[0].value.features,o=n[1].value.features,i=n[2].value.features,r.length?this._processOwnerGraphics(r):o.length?this._processParcelGraphic(o[0]):i.length?this.processClusterGraphic(i[0]):this.clear(),[2]}}))}))}))},O([o.property(),l.renderable()],t.prototype,"owners",void 0),O([o.property(),l.renderable()],t.prototype,"loading",void 0),O([o.property()],t.prototype,"view",void 0),O([o.property()],t.prototype,"ownerLayer",void 0),O([o.property()],t.prototype,"parcelLayer",void 0),O([o.property()],t.prototype,"ownerClusterLayer",void 0),O([o.property()],t.prototype,"ownerRelateLayer",void 0),O([o.property(),l.renderable()],t.prototype,"firstName",void 0),O([o.property(),l.renderable()],t.prototype,"lastName",void 0),O([o.property(),l.renderable()],t.prototype,"graphics",void 0),t=O([o.subclass("esri.widgets.OwnerWidget")],t)}(i);function I(e){"Addresses"===e.results[0].source.name?P.goTo({target:e.results[0].results[0].feature.geometry,scale:1e3},{animate:!0,duration:2e3,easing:"ease-in-out"}):L.ownerSearchComplete(e.results[0].results[0].feature)}function M(){}var C=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),G="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,z="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),R="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(z):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var B=["top","right","bottom","left","width","height","size","weight"],V="undefined"!=typeof MutationObserver,q=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&a()}function s(){R(i)}function a(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return a}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){G&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),V?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){G&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;B.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),N=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},W=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||z},H=Q(0,0,0,0);function $(e){return parseFloat(e)||0}function J(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+$(e["border-"+n+"-width"])}),0)}function U(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return H;var r=W(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=$(i)}return t}(r),i=o.left+o.right,s=o.top+o.bottom,a=$(r.width),c=$(r.height);if("border-box"===r.boxSizing&&(Math.round(a+i)!==t&&(a-=J(r,"left","right")+i),Math.round(c+s)!==n&&(c-=J(r,"top","bottom")+s)),!function(e){return e===W(e).document.documentElement}(e)){var l=Math.round(a+i)-t,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return Q(o.left,o.top,a,c)}var Z="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof W(e).SVGGraphicsElement}:function(e){return e instanceof W(e).SVGElement&&"function"==typeof e.getBBox};function K(e){return G?Z(e)?function(e){var t=e.getBBox();return Q(0,0,t.width,t.height)}(e):U(e):H}function Q(e,t,n,r){return{x:e,y:t,width:n,height:r}}var X=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Q(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=K(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Y=function(e,t){var n,r,o,i,s,a,c,l=(r=(n=t).x,o=n.y,i=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),N(c,{x:r,y:o,width:i,height:s,top:o,right:r+i,bottom:s+o,left:r}),c);N(this,{target:e,contentRect:l})},ee=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new C,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof W(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new X(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof W(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),te="undefined"!=typeof WeakMap?new WeakMap:new C,ne=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=q.getInstance(),r=new ee(t,n,this);te.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ne.prototype[e]=function(){var t;return(t=te.get(this))[e].apply(t,arguments)}}));var re=void 0!==z.ResizeObserver?z.ResizeObserver:ne;var oe=new t({container:"viewDiv",map:g,constraints:{rotationEnabled:!1},popup:{autoOpenEnabled:!1}});g.when((function(){console.log("map loaded")})),oe.when((function(e){var t=new u({view:A=e,nextBasemap:"satellite"});A.ui.add(t,"top-left");var o=new r({view:A}),i=new n({view:A});T=new D({view:A,ownerLayer:y,parcelLayer:w,ownerClusterLayer:v});var s=document.getElementById("widget-search"),a=function(e,t,n){var r={type:"simple-marker",outline:{miterLimit:8,width:0,color:[0,0,0,0]},size:0,color:[255,255,255,0]};L=n,P=e;var o=new h({layer:y,placeholder:"owner name",searchFields:["OwnerName"],name:"Owner Name",outFields:["*"],maxSuggestions:50,resultSymbol:r,resultGraphicEnabled:!1}),i=new h({layer:y,placeholder:"owner address",searchFields:["OwnerAddress"],name:"Owner Address",outFields:["*"],suggestionTemplate:"{OwnerName}\n{OwnerAddress}",resultSymbol:r,resultGraphicEnabled:!1}),s=new p({locator:new f({url:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"}),name:"Addresses",zoomScale:2e3,withinViewEnabled:!0}),a=new d({view:P,container:t,allPlaceholder:"Owner or Address",sources:[o,i,s],includeDefaultSources:!1,popupEnabled:!1,goToOverride:M,resultGraphicEnabled:!1});return a.on("search-complete",I),a}(A,s,T),c=document.getElementById("widget-legend"),l=document.getElementById("widget-layerlist"),g=document.getElementById("widget-owners"),m=document.getElementById("widget-panel");return m&&(A.padding=_(_({},A.padding),{left:m.offsetWidth})),c&&(o.container=c),l&&(i.container=l),g&&(T.container=g),s&&(a.container=s),{layerListContainer:l,legendContainer:c,ownerContainer:g,searchContainer:s,widgetPanel:m,view:A}})).then((function(e){for(var t=e.layerListContainer,n=e.legendContainer,r=e.ownerContainer,o=e.searchContainer,i=e.widgetPanel,s=e.view,a=Array.from(document.querySelectorAll("calcite-action")),c=[t,n,r,o],l=function(e){e.addEventListener("click",(function(){"Layers"===e.text?(t.classList.toggle("hidden"),c.filter((function(e){return e!==t})).forEach((function(e){e.classList.add("hidden")}))):"Legend"===e.text?(n.classList.toggle("hidden"),c.filter((function(e){return e!==n})).forEach((function(e){e.classList.add("hidden")}))):"Owners"===e.text?(r.classList.toggle("hidden"),c.filter((function(e){return e!==r})).forEach((function(e){e.classList.add("hidden")}))):"Search"===e.text&&(o.classList.toggle("hidden"),c.filter((function(e){return e!==o})).forEach((function(e){e.classList.add("hidden")}))),i.collapsed=c.every((function(e){return e.classList.contains("hidden")}))}))},u=0,d=a;u<d.length;u++){l(d[u])}var h=new re((function(){s.padding=_(_({},s.padding),{left:i.offsetWidth})}));return h.observe(i),h}))}));
